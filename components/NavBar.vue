<template>
  <div class="font-display text-green z-50 text-xl">
    <nav
      class="flex justify-center pt-6"
      :class="{ 'navbar--hidden': !showNavbar }"
    >
      <div class="relative border-solid">
        <div
          id="nav-text"
          class="absolute grid grid-cols-5 text-center items-center"
        >
          <div
            class="rounded-full bg-green text-pink border-solid border-2 border-pink"
          >
            home
          </div>
          <div>work</div>
          <div></div>
          <div>services</div>
          <div>contact</div>
        </div>
        <svg
          width="459"
          height="68"
          viewBox="0 0 459 68"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <ellipse cx="239" cy="34.5" rx="29" ry="28.5" fill="#FF6B00" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M236.31 18.6981C237.128 18.2043 237.948 17.7098 238.645 17.0401C239.568 17.9237 240.657 18.1088 241.911 18.322L242.11 18.3559C244.858 18.874 245.853 20.8266 246.888 23.2175C248.242 26.3656 251.149 27.601 254.494 27.7205C254.813 27.7205 255.091 27.4017 254.972 27.0829C254.367 25.5227 254.374 23.908 254.381 22.2866V22.2866C254.386 21.1334 254.391 19.9769 254.175 18.8341C253.766 16.7518 252.732 15.1441 251.647 13.4572L251.647 13.4571C251.362 13.0135 251.073 12.5643 250.791 12.0996C249.955 10.7448 249.795 9.50943 249.835 7.91546C249.838 7.82911 249.842 7.74275 249.846 7.65641L249.846 7.65554C249.885 6.70637 249.925 5.75999 249.596 4.84708C248.879 2.97417 247.127 2.65537 245.375 2.37643C245.25 2.35716 245.125 2.34022 245 2.32336L245 2.32336L245 2.32335L245 2.32335L245 2.32335L245 2.32335C244.61 2.27047 244.224 2.21834 243.862 2.09748C243.198 1.90364 242.803 1.55583 242.37 1.17444C242.18 1.00701 241.983 0.833108 241.752 0.662915C241.154 0.224574 240.716 -0.0942194 239.92 0.0253281C238.168 0.344121 235.978 2.49598 235.221 4.01025C234.385 5.60421 234.425 7.35758 235.54 8.79215C235.858 9.19466 236.254 9.54071 236.654 9.8897C237.203 10.3699 237.759 10.8557 238.128 11.5019C238.82 12.6948 239.178 14.928 238.198 16.0847C238.161 16.1052 238.124 16.1315 238.088 16.1643C237.36 16.8929 236.491 17.4258 235.616 17.9617C234.817 18.4517 234.013 18.9443 233.31 19.5914C231.876 20.8665 230.761 22.5801 230.005 24.3334C228.173 28.3582 227.655 32.7814 228.213 37.1648C228.515 39.4725 229.132 41.6994 229.747 43.9222C230.428 46.3822 231.108 48.8371 231.359 51.391C231.637 54.1406 231.797 57.0894 231.239 59.7992C230.913 61.38 230.366 62.8976 229.817 64.4216C229.494 65.3179 229.17 66.2165 228.89 67.1314C228.73 67.6893 229.527 68.0081 229.806 67.5299C229.828 67.4844 229.848 67.4417 229.866 67.4006L229.885 67.4104C230.169 66.4761 230.501 65.5558 230.832 64.6378L230.832 64.6377C231.293 63.363 231.751 62.0927 232.075 60.7954C232.633 58.5639 232.673 56.2924 232.553 54.021C232.376 50.5363 231.565 47.336 230.735 44.0634C230.445 42.9201 230.153 41.768 229.885 40.5919C228.77 35.81 228.651 30.9085 230.323 26.2462C231.12 24.0545 232.314 21.9026 234.026 20.3086C234.709 19.6637 235.509 19.1813 236.31 18.6981Z"
            fill="#006838"
          />
          <mask id="path-3-inside-1" fill="white">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M257.715 59C265.057 53.3343 269.786 44.448 269.786 34.4573C269.786 23.2555 263.841 13.4422 254.934 8H433.5C447.583 8 459 19.4167 459 33.5C459 47.5833 447.583 59 433.5 59H257.715ZM219.89 59H25.5C11.4168 59 0 47.5833 0 33.5C0 19.4167 11.4167 8 25.5 8H222.671C213.764 13.4422 207.82 23.2555 207.82 34.4573C207.82 44.448 212.548 53.3343 219.89 59Z"
            />
          </mask>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M257.715 59C265.057 53.3343 269.786 44.448 269.786 34.4573C269.786 23.2555 263.841 13.4422 254.934 8H433.5C447.583 8 459 19.4167 459 33.5C459 47.5833 447.583 59 433.5 59H257.715ZM219.89 59H25.5C11.4168 59 0 47.5833 0 33.5C0 19.4167 11.4167 8 25.5 8H222.671C213.764 13.4422 207.82 23.2555 207.82 34.4573C207.82 44.448 212.548 53.3343 219.89 59Z"
            fill="#D8CBCF"
          />
          <path
            d="M257.715 59L257.105 58.2083L254.783 60H257.715V59ZM254.934 8V7H251.38L254.413 8.85332L254.934 8ZM219.89 59V60H222.822L220.501 58.2083L219.89 59ZM222.671 8L223.193 8.85332L226.226 7H222.671V8ZM268.786 34.4573C268.786 44.125 264.211 52.7238 257.105 58.2083L258.326 59.7917C265.903 53.9448 270.786 44.7711 270.786 34.4573H268.786ZM254.413 8.85332C263.035 14.1215 268.786 23.6182 268.786 34.4573H270.786C270.786 22.8928 264.647 12.7629 255.456 7.14668L254.413 8.85332ZM254.934 9H433.5V7H254.934V9ZM433.5 9C447.031 9 458 19.969 458 33.5H460C460 18.8645 448.136 7 433.5 7V9ZM458 33.5C458 47.031 447.031 58 433.5 58V60C448.136 60 460 48.1355 460 33.5H458ZM433.5 58H257.715V60H433.5V58ZM219.89 58H25.5V60H219.89V58ZM25.5 58C11.969 58 1 47.031 1 33.5H-1C-1 48.1355 10.8645 60 25.5 60V58ZM1 33.5C1 19.969 11.969 9 25.5 9V7C10.8645 7 -1 18.8645 -1 33.5H1ZM25.5 9H222.671V7H25.5V9ZM208.82 34.4573C208.82 23.6182 214.571 14.1215 223.193 8.85332L222.15 7.14668C212.958 12.7629 206.82 22.8928 206.82 34.4573H208.82ZM220.501 58.2083C213.394 52.7238 208.82 44.125 208.82 34.4573H206.82C206.82 44.7711 211.703 53.9448 219.279 59.7917L220.501 58.2083Z"
            fill="#006838"
            mask="url(#path-3-inside-1)"
          />
        </svg>
      </div>
    </nav>
  </div>
</template>
<script>
import Logo from '~/components/Logo'
export default {
  components: {
    Logo,
  },
  mounted() {
    window.addEventListener('scroll', this.onScroll)
  },
  beforeDestroy() {
    window.removeEventListener('scroll', this.onScroll)
  },
  data() {
    return {
      showNavbar: true,
      lastScrollPosition: 0,
    }
  },
  methods: {
    onScroll() {
      const currentScrollPosition =
        window.pageYOffset || document.documentElement.scrollTop
      if (currentScrollPosition < 0) {
        return
      }
      // Stop executing this function if the difference between
      // current scroll position and last scroll position is less than some offset
      if (Math.abs(currentScrollPosition - this.lastScrollPosition) < 60) {
        return
      }
      this.showNavbar = currentScrollPosition < this.lastScrollPosition
      this.lastScrollPosition = currentScrollPosition
    },
  },
}
</script>
<style lang="scss">
.navbar--hidden {
  box-shadow: none;
  transform: translate3d(0, -100%, 0);
}
#nav-text {
  width: 459px;
  height: 51px;
  top: 0;
  bottom: 0;
  margin-top: auto;
  margin-bottom: auto;
  div {
    height: 51px;
    border: 1px black solid;
  }
}
</style>
